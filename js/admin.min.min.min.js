jQuery(document).ready(function(a){(function(){var c=a("#IDInputFile");var b=function(d){this.file=d};b.prototype.getType=function(){return this.file.type};b.prototype.getSize=function(){return this.file.size};b.prototype.getName=function(){return this.file.name};b.prototype.doUpload=function(){var d=this;var e=new FormData();e.append("file",this.file);e.append("upload_file",true);e.append("accept",c.attr("accept"));a.ajax({type:"POST",url:localizedObject.ajaxUrl+"?action=wordpress_ajax_action",xhr:function(){var f=a.ajaxSettings.xhr();if(f.upload){f.upload.addEventListener("progress",d.progressHandling,false)}return f},success:function(f){console.log(f)},error:function(f){console.log(f)},async:true,data:e,cache:false,contentType:false,processData:false,timeout:60000})};b.prototype.progressHandling=function(g){var f=0;var d=g.loaded||g.position;var e=g.total;if(g.lengthComputable){f=Math.ceil(d/e*100)}console.log(f)};c.on("change",function(){if(this.files&&this.files.length){var h=this.files,f=0,g=h.length;for(f;f<g;f++){var e=h[f];var d=new b(e);d.doUpload()}}})})()});