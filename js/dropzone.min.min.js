"use strict";var _createClass=function(){function b(f,h){for(var a=0;a<h.length;a++){var g=h[a];g.enumerable=g.enumerable||false;g.configurable=true;if("value" in g){g.writable=true}Object.defineProperty(f,g.key,g)}}return function(e,a,f){if(a){b(e.prototype,a)}if(f){b(e,f)}return e}}();function _possibleConstructorReturn(d,c){if(!d){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return c&&(typeof c==="object"||typeof c==="function")?c:d}function _inherits(c,d){if(typeof d!=="function"&&d!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof d)}c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:false,writable:true,configurable:true}});if(d){Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d}}function _classCallCheck(d,c){if(!(d instanceof c)){throw new TypeError("Cannot call a class as a function")}}var Emitter=function(){function h(){_classCallCheck(this,h)}_createClass(h,[{key:"on",value:function f(a,b){this._callbacks=this._callbacks||{};if(!this._callbacks[a]){this._callbacks[a]=[]}this._callbacks[a].push(b);return this}},{key:"emit",value:function e(t){this._callbacks=this._callbacks||{};var o=this._callbacks[t];if(o){for(var b=arguments.length,d=Array(b>1?b-1:0),s=1;s<b;s++){d[s-1]=arguments[s]}for(var p=o,c=true,r=0,p=c?p:p[Symbol.iterator]();;){var q;if(c){if(r>=p.length){break}q=p[r++]}else{r=p.next();if(r.done){break}q=r.value}var a=q;a.apply(this,d)}}return this}},{key:"off",value:function g(b,d){if(!this._callbacks||arguments.length===0){this._callbacks={};return this}var c=this._callbacks[b];if(!c){return this}if(arguments.length===1){delete this._callbacks[b];return this}for(var i=0;i<c.length;i++){var a=c[i];if(a===d){c.splice(i,1);break}}return this}}]);return h}();var Dropzone=function(a5){_inherits(aJ,a5);_createClass(aJ,null,[{key:"initClass",value:function aL(){this.prototype.Emitter=Emitter;this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"];this.prototype.defaultOptions={url:null,method:"post",withCredentials:false,timeout:30000,parallelUploads:2,uploadMultiple:false,chunking:false,forceChunking:false,chunkSize:2000000,parallelChunkUploads:false,retryChunks:false,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:true,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:0.8,resizeMethod:"contain",filesizeBase:1000,maxFiles:null,headers:null,clickable:true,ignoreHiddenFiles:true,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:true,autoQueue:true,addRemoveLinks:false,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:false,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function x(){},params:function p(M,L,K){if(K){return{dzuuid:K.file.upload.uuid,dzchunkindex:K.index,dztotalfilesize:K.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:K.file.upload.totalChunkCount,dzchunkbyteoffset:K.index*this.options.chunkSize}}},accept:function l(L,K){return K()},chunksUploaded:function v(L,K){K()},fallback:function s(){var P=void 0;this.element.className=this.element.className+" dz-browser-not-supported";for(var Q=this.element.getElementsByTagName("div"),K=true,L=0,Q=K?Q:Q[Symbol.iterator]();;){var M;if(K){if(L>=Q.length){break}M=Q[L++]}else{L=Q.next();if(L.done){break}M=L.value}var N=M;if(/(^| )dz-message($| )/.test(N.className)){P=N;N.className="dz-message";break}}if(!P){P=aJ.createElement('<div class="dz-message"><span></span></div>');this.element.appendChild(P)}var O=P.getElementsByTagName("span")[0];if(O){if(O.textContent!=null){O.textContent=this.options.dictFallbackMessage}else{if(O.innerText!=null){O.innerText=this.options.dictFallbackMessage}}}return this.element.appendChild(this.getFallbackForm())},resize:function c(P,N,K,L){var M={srcX:0,srcY:0,srcWidth:P.width,srcHeight:P.height};var O=P.width/P.height;if(N==null&&K==null){N=M.srcWidth;K=M.srcHeight}else{if(N==null){N=K*O}else{if(K==null){K=N/O}}}N=Math.min(N,M.srcWidth);K=Math.min(K,M.srcHeight);var Q=N/K;if(M.srcWidth>N||M.srcHeight>K){if(L==="crop"){if(O>Q){M.srcHeight=P.height;M.srcWidth=M.srcHeight*Q}else{M.srcWidth=P.width;M.srcHeight=M.srcWidth/Q}}else{if(L==="contain"){if(O>Q){K=N/O}else{N=K*O}}else{throw new Error("Unknown resizeMethod '"+L+"'")}}}M.srcX=(P.width-M.srcWidth)/2;M.srcY=(P.height-M.srcHeight)/2;M.trgWidth=N;M.trgHeight=K;return M},transformFile:function J(L,K){if((this.options.resizeWidth||this.options.resizeHeight)&&L.type.match(/image.*/)){return this.resizeImage(L,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,K)}else{return K(L)}},previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>',drop:function a(K){return this.element.classList.remove("dz-drag-hover")},dragstart:function b(K){},dragend:function k(K){return this.element.classList.remove("dz-drag-hover")},dragenter:function y(K){return this.element.classList.add("dz-drag-hover")},dragover:function D(K){return this.element.classList.add("dz-drag-hover")},dragleave:function q(K){return this.element.classList.remove("dz-drag-hover")},paste:function u(K){},reset:function C(){return this.element.classList.remove("dz-started")},addedfile:function G(S){var O=this;if(this.element===this.previewsContainer){this.element.classList.add("dz-started")}if(this.previewsContainer){S.previewElement=aJ.createElement(this.options.previewTemplate.trim());S.previewTemplate=S.previewElement;this.previewsContainer.appendChild(S.previewElement);for(var W=S.previewElement.querySelectorAll("[data-dz-name]"),N=true,Y=0,W=N?W:W[Symbol.iterator]();;){var U;if(N){if(Y>=W.length){break}U=W[Y++]}else{Y=W.next();if(Y.done){break}U=Y.value}var T=U;T.textContent=S.name}for(var X=S.previewElement.querySelectorAll("[data-dz-size]"),P=true,K=0,X=P?X:X[Symbol.iterator]();;){if(P){if(K>=X.length){break}T=X[K++]}else{K=X.next();if(K.done){break}T=K.value}T.innerHTML=this.filesize(S.size)}if(this.options.addRemoveLinks){S._removeLink=aJ.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>");S.previewElement.appendChild(S._removeLink)}var Q=function Q(aa){aa.preventDefault();aa.stopPropagation();if(S.status===aJ.UPLOADING){return aJ.confirm(O.options.dictCancelUploadConfirmation,function(){return O.removeFile(S)})}else{if(O.options.dictRemoveFileConfirmation){return aJ.confirm(O.options.dictRemoveFileConfirmation,function(){return O.removeFile(S)})}else{return O.removeFile(S)}}};for(var Z=S.previewElement.querySelectorAll("[data-dz-remove]"),R=true,L=0,Z=R?Z:Z[Symbol.iterator]();;){var V;if(R){if(L>=Z.length){break}V=Z[L++]}else{L=Z.next();if(L.done){break}V=L.value}var M=V;M.addEventListener("click",Q)}}},removedfile:function e(K){if(K.previewElement!=null&&K.previewElement.parentNode!=null){K.previewElement.parentNode.removeChild(K.previewElement)}return this._updateMaxFilesReachedClass()},thumbnail:function z(O,L){if(O.previewElement){O.previewElement.classList.remove("dz-file-preview");for(var Q=O.previewElement.querySelectorAll("[data-dz-thumbnail]"),K=true,N=0,Q=K?Q:Q[Symbol.iterator]();;){var M;if(K){if(N>=Q.length){break}M=Q[N++]}else{N=Q.next();if(N.done){break}M=N.value}var P=M;P.alt=O.name;P.src=L}return setTimeout(function(){return O.previewElement.classList.add("dz-image-preview")},1)}},error:function H(K,N){if(K.previewElement){K.previewElement.classList.add("dz-error");if(typeof N!=="String"&&N.error){N=N.error}for(var L=K.previewElement.querySelectorAll("[data-dz-errormessage]"),M=true,Q=0,L=M?L:L[Symbol.iterator]();;){var O;if(M){if(Q>=L.length){break}O=L[Q++]}else{Q=L.next();if(Q.done){break}O=Q.value}var P=O;P.textContent=N}}},errormultiple:function g(){},processing:function I(K){if(K.previewElement){K.previewElement.classList.add("dz-processing");if(K._removeLink){return K._removeLink.textContent=this.options.dictCancelUpload}}},processingmultiple:function E(){},uploadprogress:function B(P,K,Q){if(P.previewElement){for(var L=P.previewElement.querySelectorAll("[data-dz-uploadprogress]"),M=true,R=0,L=M?L:L[Symbol.iterator]();;){var O;if(M){if(R>=L.length){break}O=L[R++]}else{R=L.next();if(R.done){break}O=R.value}var N=O;N.nodeName==="PROGRESS"?N.value=K:N.style.width=K+"%"}}},totaluploadprogress:function r(){},sending:function j(){},sendingmultiple:function i(){},success:function A(K){if(K.previewElement){return K.previewElement.classList.add("dz-success")}},successmultiple:function n(){},canceled:function F(K){return this.emit("error",K,this.options.dictUploadCanceled)},canceledmultiple:function w(){},complete:function d(K){if(K._removeLink){K._removeLink.textContent=this.options.dictRemoveFile}if(K.previewElement){return K.previewElement.classList.add("dz-complete")}},completemultiple:function m(){},maxfilesexceeded:function f(){},maxfilesreached:function h(){},queuecomplete:function o(){},addedfiles:function t(){}};this.prototype._thumbnailQueue=[];this.prototype._processingThumbnail=false}},{key:"extend",value:function a0(e){for(var j=arguments.length,a=Array(j>1?j-1:0),f=1;f<j;f++){a[f-1]=arguments[f]}for(var c=a,g=true,d=0,c=g?c:c[Symbol.iterator]();;){var k;if(g){if(d>=c.length){break}k=c[d++]}else{d=c.next();if(d.done){break}k=d.value}var h=k;for(var b in h){var i=h[b];e[b]=i}}return e}}]);function aJ(f,a){_classCallCheck(this,aJ);var c=_possibleConstructorReturn(this,(aJ.__proto__||Object.getPrototypeOf(aJ)).call(this));var d=void 0,e=void 0;c.element=f;c.version=aJ.version;c.defaultOptions.previewTemplate=c.defaultOptions.previewTemplate.replace(/\n*/g,"");c.clickableElements=[];c.listeners=[];c.files=[];if(typeof c.element==="string"){c.element=document.querySelector(c.element)}if(!c.element||c.element.nodeType==null){throw new Error("Invalid dropzone element.")}if(c.element.dropzone){throw new Error("Dropzone already attached.")}aJ.instances.push(c);c.element.dropzone=c;var b=(e=aJ.optionsForElement(c.element))!=null?e:{};c.options=aJ.extend({},c.defaultOptions,b,a!=null?a:{});if(c.options.forceFallback||!aJ.isBrowserSupported()){var g;return g=c.options.fallback.call(c),_possibleConstructorReturn(c,g)}if(c.options.url==null){c.options.url=c.element.getAttribute("action")}if(!c.options.url){throw new Error("No URL provided.")}if(c.options.acceptedFiles&&c.options.acceptedMimeTypes){throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.")}if(c.options.uploadMultiple&&c.options.chunking){throw new Error("You cannot set both: uploadMultiple and chunking.")}if(c.options.acceptedMimeTypes){c.options.acceptedFiles=c.options.acceptedMimeTypes;delete c.options.acceptedMimeTypes}if(c.options.renameFilename!=null){c.options.renameFile=function(h){return c.options.renameFilename.call(c,h.name,h)}}c.options.method=c.options.method.toUpperCase();if((d=c.getExistingFallback())&&d.parentNode){d.parentNode.removeChild(d)}if(c.options.previewsContainer!==false){if(c.options.previewsContainer){c.previewsContainer=aJ.getElement(c.options.previewsContainer,"previewsContainer")}else{c.previewsContainer=c.element}}if(c.options.clickable){if(c.options.clickable===true){c.clickableElements=[c.element]}else{c.clickableElements=aJ.getElements(c.options.clickable,"clickable")}}c.init();return c}_createClass(aJ,[{key:"getAcceptedFiles",value:function aR(){return this.files.filter(function(a){return a.accepted}).map(function(a){return a})}},{key:"getRejectedFiles",value:function aM(){return this.files.filter(function(a){return !a.accepted}).map(function(a){return a})}},{key:"getFilesWithStatus",value:function a6(a){return this.files.filter(function(b){return b.status===a}).map(function(b){return b})}},{key:"getQueuedFiles",value:function aQ(){return this.getFilesWithStatus(aJ.QUEUED)}},{key:"getUploadingFiles",value:function be(){return this.getFilesWithStatus(aJ.UPLOADING)}},{key:"getAddedFiles",value:function aU(){return this.getFilesWithStatus(aJ.ADDED)}},{key:"getActiveFiles",value:function av(){return this.files.filter(function(a){return a.status===aJ.UPLOADING||a.status===aJ.QUEUED}).map(function(a){return a})}},{key:"init",value:function ah(){var g=this;if(this.element.tagName==="form"){this.element.setAttribute("enctype","multipart/form-data")}if(this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")){this.element.appendChild(aJ.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>"))}if(this.clickableElements.length){var d=function d(){if(g.hiddenFileInput){g.hiddenFileInput.parentNode.removeChild(g.hiddenFileInput)}g.hiddenFileInput=document.createElement("input");g.hiddenFileInput.setAttribute("type","file");if(g.options.maxFiles===null||g.options.maxFiles>1){g.hiddenFileInput.setAttribute("multiple","multiple")}g.hiddenFileInput.className="dz-hidden-input";if(g.options.acceptedFiles!==null){g.hiddenFileInput.setAttribute("accept",g.options.acceptedFiles)}if(g.options.capture!==null){g.hiddenFileInput.setAttribute("capture",g.options.capture)}g.hiddenFileInput.style.visibility="hidden";g.hiddenFileInput.style.position="absolute";g.hiddenFileInput.style.top="0";g.hiddenFileInput.style.left="0";g.hiddenFileInput.style.height="0";g.hiddenFileInput.style.width="0";document.querySelector(g.options.hiddenInputContainer).appendChild(g.hiddenFileInput);return g.hiddenFileInput.addEventListener("change",function(){var q=g.hiddenFileInput.files;if(q.length){for(var s=q,r=true,o=0,s=r?s:s[Symbol.iterator]();;){var t;if(r){if(o>=s.length){break}t=s[o++]}else{o=s.next();if(o.done){break}t=o.value}var p=t;g.addFile(p)}}g.emit("addedfiles",q);return d()})};d()}this.URL=window.URL!==null?window.URL:window.webkitURL;for(var j=this.events,b=true,c=0,j=b?j:j[Symbol.iterator]();;){var a;if(b){if(c>=j.length){break}a=j[c++]}else{c=j.next();if(c.done){break}a=c.value}var i=a;this.on(i,this.options[i])}this.on("uploadprogress",function(){return g.updateTotalUploadProgress()});this.on("removedfile",function(){return g.updateTotalUploadProgress()});this.on("canceled",function(o){return g.emit("complete",o)});this.on("complete",function(o){if(g.getAddedFiles().length===0&&g.getUploadingFiles().length===0&&g.getQueuedFiles().length===0){return setTimeout(function(){return g.emit("queuecomplete")},0)}});var f=function f(o){o.stopPropagation();if(o.preventDefault){return o.preventDefault()}else{return o.returnValue=false}};this.listeners=[{element:this.element,events:{dragstart:function n(o){return g.emit("dragstart",o)},dragenter:function h(o){f(o);return g.emit("dragenter",o)},dragover:function k(o){var p=void 0;try{p=o.dataTransfer.effectAllowed}catch(q){}o.dataTransfer.dropEffect="move"===p||"linkMove"===p?"move":"copy";f(o);return g.emit("dragover",o)},dragleave:function e(o){return g.emit("dragleave",o)},drop:function l(o){f(o);return g.drop(o)},dragend:function m(o){return g.emit("dragend",o)}}}];this.clickableElements.forEach(function(p){return g.listeners.push({element:p,events:{click:function o(q){if(p!==g.element||q.target===g.element||aJ.elementInside(q.target,g.element.querySelector(".dz-message"))){g.hiddenFileInput.click()}return true}}})});this.enable();return this.options.init.call(this)}},{key:"destroy",value:function al(){this.disable();this.removeAllFiles(true);if(this.hiddenFileInput!=null?this.hiddenFileInput.parentNode:undefined){this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput);this.hiddenFileInput=null}delete this.element.dropzone;return aJ.instances.splice(aJ.instances.indexOf(this),1)}},{key:"updateTotalUploadProgress",value:function aC(){var i=void 0;var h=0;var f=0;var d=this.getActiveFiles();if(d.length){for(var e=this.getActiveFiles(),b=true,c=0,e=b?e:e[Symbol.iterator]();;){var a;if(b){if(c>=e.length){break}a=e[c++]}else{c=e.next();if(c.done){break}a=c.value}var g=a;h+=g.upload.bytesSent;f+=g.upload.total}i=100*h/f}else{i=100}return this.emit("totaluploadprogress",i,f,h)}},{key:"_getParamName",value:function ay(a){if(typeof this.options.paramName==="function"){return this.options.paramName(a)}else{return""+this.options.paramName+(this.options.uploadMultiple?"["+a+"]":"")}}},{key:"_renameFile",value:function aG(a){if(typeof this.options.renameFile!=="function"){return a.name}return this.options.renameFile(a)}},{key:"getFallbackForm",value:function ar(){var a=void 0,d=void 0;if(a=this.getExistingFallback()){return a}var c='<div class="dz-fallback">';if(this.options.dictFallbackText){c+="<p>"+this.options.dictFallbackText+"</p>"}c+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':undefined)+' /><input type="submit" value="Upload!"></div>';var b=aJ.createElement(c);if(this.element.tagName!=="FORM"){d=aJ.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>');d.appendChild(b)}else{this.element.setAttribute("enctype","multipart/form-data");this.element.setAttribute("method",this.options.method)}return d!=null?d:b}},{key:"getExistingFallback",value:function aB(){var d=function d(f){for(var i=f,k=true,j=0,i=k?i:i[Symbol.iterator]();;){var h;if(k){if(j>=i.length){break}h=i[j++]}else{j=i.next();if(j.done){break}h=j.value}var g=h;if(/(^| )fallback($| )/.test(g.className)){return g}}};var a=["div","form"];for(var b=0;b<a.length;b++){var e=a[b];var c;if(c=d(this.element.getElementsByTagName(e))){return c}}}},{key:"setupEventListeners",value:function au(){return this.listeners.map(function(a){return function(){var b=[];for(var d in a.events){var c=a.events[d];b.push(a.element.addEventListener(d,c,false))}return b}()})}},{key:"removeEventListeners",value:function ao(){return this.listeners.map(function(a){return function(){var b=[];for(var d in a.events){var c=a.events[d];b.push(a.element.removeEventListener(d,c,false))}return b}()})}},{key:"disable",value:function a9(){var a=this;this.clickableElements.forEach(function(b){return b.classList.remove("dz-clickable")});this.removeEventListeners();this.disabled=true;return this.files.map(function(b){return a.cancelUpload(b)})}},{key:"enable",value:function a3(){delete this.disabled;this.clickableElements.forEach(function(a){return a.classList.add("dz-clickable")});return this.setupEventListeners()}},{key:"filesize",value:function aF(f){var e=0;var c="b";if(f>0){var a=["tb","gb","mb","kb","b"];for(var g=0;g<a.length;g++){var d=a[g];var b=Math.pow(this.options.filesizeBase,4-g)/10;if(f>=b){e=f/Math.pow(this.options.filesizeBase,4-g);c=d;break}}e=Math.round(10*e)/10}return"<strong>"+e+"</strong> "+this.options.dictFileSizeUnits[c]}},{key:"_updateMaxFilesReachedClass",value:function aX(){if(this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles){if(this.getAcceptedFiles().length===this.options.maxFiles){this.emit("maxfilesreached",this.files)}return this.element.classList.add("dz-max-files-reached")}else{return this.element.classList.remove("dz-max-files-reached")}}},{key:"drop",value:function aN(c){if(!c.dataTransfer){return}this.emit("drop",c);var d=[];for(var a=0;a<c.dataTransfer.files.length;a++){d[a]=c.dataTransfer.files[a]}this.emit("addedfiles",d);if(d.length){var b=c.dataTransfer.items;if(b&&b.length&&b[0].webkitGetAsEntry!=null){this._addFilesFromItems(b)}else{this.handleFiles(d)}}}},{key:"paste",value:function aE(a){if(__guard__(a!=null?a.clipboardData:undefined,function(c){return c.items})==null){return}this.emit("paste",a);var b=a.clipboardData.items;if(b.length){return this._addFilesFromItems(b)}}},{key:"handleFiles",value:function aI(e){for(var b=e,c=true,d=0,b=c?b:b[Symbol.iterator]();;){var a;if(c){if(d>=b.length){break}a=b[d++]}else{d=b.next();if(d.done){break}a=d.value}var f=a;this.addFile(f)}}},{key:"_addFilesFromItems",value:function ax(b){var a=this;return function(){var h=[];for(var i=b,c=true,d=0,i=c?i:i[Symbol.iterator]();;){var g;if(c){if(d>=i.length){break}g=i[d++]}else{d=i.next();if(d.done){break}g=d.value}var e=g;var f;if(e.webkitGetAsEntry!=null&&(f=e.webkitGetAsEntry())){if(f.isFile){h.push(a.addFile(e.getAsFile()))}else{if(f.isDirectory){h.push(a._addFilesFromDirectory(f,f.name))}else{h.push(undefined)}}}else{if(e.getAsFile!=null){if(e.kind==null||e.kind==="file"){h.push(a.addFile(e.getAsFile()))}else{h.push(undefined)}}else{h.push(undefined)}}}return h}()}},{key:"_addFilesFromDirectory",value:function aS(b,c){var e=this;var d=b.createReader();var f=function f(g){return __guardMethod__(console,"log",function(h){return h.log(g)})};var a=function a(){return d.readEntries(function(l){if(l.length>0){for(var g=l,h=true,i=0,g=h?g:g[Symbol.iterator]();;){var k;if(h){if(i>=g.length){break}k=g[i++]}else{i=g.next();if(i.done){break}k=i.value}var j=k;if(j.isFile){j.file(function(m){if(e.options.ignoreHiddenFiles&&m.name.substring(0,1)==="."){return}m.fullPath=c+"/"+m.name;return e.addFile(m)})}else{if(j.isDirectory){e._addFilesFromDirectory(j,c+"/"+j.name)}}}a()}return null},f)};return a()}},{key:"accept",value:function a8(a,b){if(this.options.maxFilesize&&a.size>this.options.maxFilesize*1024*1024){return b(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(a.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize))}else{if(!aJ.isValidFile(a,this.options.acceptedFiles)){return b(this.options.dictInvalidFileType)}else{if(this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles){b(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles));return this.emit("maxfilesexceeded",a)}else{return this.options.accept.call(this,a,b)}}}}},{key:"addFile",value:function ap(a){var b=this;a.upload={uuid:aJ.uuidv4(),progress:0,total:a.size,bytesSent:0,filename:this._renameFile(a),chunked:this.options.chunking&&(this.options.forceChunking||a.size>this.options.chunkSize),totalChunkCount:Math.ceil(a.size/this.options.chunkSize)};this.files.push(a);a.status=aJ.ADDED;this.emit("addedfile",a);this._enqueueThumbnail(a);return this.accept(a,function(c){if(c){a.accepted=false;b._errorProcessing([a],c)}else{a.accepted=true;if(b.options.autoQueue){b.enqueueFile(a)}}return b._updateMaxFilesReachedClass()})}},{key:"enqueueFiles",value:function aV(f){for(var c=f,d=true,e=0,c=d?c:c[Symbol.iterator]();;){var b;if(d){if(e>=c.length){break}b=c[e++]}else{e=c.next();if(e.done){break}b=e.value}var a=b;this.enqueueFile(a)}return null}},{key:"enqueueFile",value:function aH(a){var b=this;if(a.status===aJ.ADDED&&a.accepted===true){a.status=aJ.QUEUED;if(this.options.autoProcessQueue){return setTimeout(function(){return b.processQueue()},0)}}else{throw new Error("This file can't be queued because it has already been processed or was rejected.")}}},{key:"_enqueueThumbnail",value:function aY(b){var a=this;if(this.options.createImageThumbnails&&b.type.match(/image.*/)&&b.size<=this.options.maxThumbnailFilesize*1024*1024){this._thumbnailQueue.push(b);return setTimeout(function(){return a._processThumbnailQueue()},0)}}},{key:"_processThumbnailQueue",value:function aD(){var a=this;if(this._processingThumbnail||this._thumbnailQueue.length===0){return}this._processingThumbnail=true;var b=this._thumbnailQueue.shift();return this.createThumbnail(b,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,true,function(c){a.emit("thumbnail",b,c);a._processingThumbnail=false;return a._processThumbnailQueue()})}},{key:"removeFile",value:function bc(a){if(a.status===aJ.UPLOADING){this.cancelUpload(a)}this.files=without(this.files,a);this.emit("removedfile",a);if(this.files.length===0){return this.emit("reset")}}},{key:"removeAllFiles",value:function bb(c){if(c==null){c=false}for(var e=this.files.slice(),f=true,a=0,e=f?e:e[Symbol.iterator]();;){var d;if(f){if(a>=e.length){break}d=e[a++]}else{a=e.next();if(a.done){break}d=a.value}var b=d;if(b.status!==aJ.UPLOADING||c){this.removeFile(b)}}return null}},{key:"resizeImage",value:function a1(a,f,b,d,c){var e=this;return this.createThumbnail(a,f,b,d,false,function(g,j){if(j==null){return c(a)}else{var i=e.options.resizeMimeType;if(i==null){i=a.type}var h=j.toDataURL(i,e.options.resizeQuality);if(i==="image/jpeg"||i==="image/jpg"){h=ExifRestore.restore(a.dataURL,h)}return c(aJ.dataURItoBlob(h))}})}},{key:"createThumbnail",value:function az(g,f,b,d,h,c){var e=this;var a=new FileReader();a.onload=function(){g.dataURL=a.result;if(g.type==="image/svg+xml"){if(c!=null){c(a.result)}return}return e.createThumbnailFromUrl(g,f,b,d,h,c)};return a.readAsDataURL(g)}},{key:"createThumbnailFromUrl",value:function an(h,i,a,g,d,b,c){var f=this;var e=document.createElement("img");if(c){e.crossOrigin=c}e.onload=function(){var j=function j(k){return k(1)};if(typeof EXIF!=="undefined"&&EXIF!==null&&d){j=function j(k){return EXIF.getData(e,function(){return k(EXIF.getTag(this,"Orientation"))})}}return j(function(k){h.width=e.width;h.height=e.height;var n=f.options.resize.call(f,h,i,a,g);var o=document.createElement("canvas");var l=o.getContext("2d");o.width=n.trgWidth;o.height=n.trgHeight;if(k>4){o.width=n.trgHeight;o.height=n.trgWidth}switch(k){case 2:l.translate(o.width,0);l.scale(-1,1);break;case 3:l.translate(o.width,o.height);l.rotate(Math.PI);break;case 4:l.translate(0,o.height);l.scale(1,-1);break;case 5:l.rotate(0.5*Math.PI);l.scale(1,-1);break;case 6:l.rotate(0.5*Math.PI);l.translate(0,-o.height);break;case 7:l.rotate(0.5*Math.PI);l.translate(o.width,-o.height);l.scale(-1,1);break;case 8:l.rotate(-0.5*Math.PI);l.translate(-o.width,0);break}drawImageIOSFix(l,e,n.srcX!=null?n.srcX:0,n.srcY!=null?n.srcY:0,n.srcWidth,n.srcHeight,n.trgX!=null?n.trgX:0,n.trgY!=null?n.trgY:0,n.trgWidth,n.trgHeight);var m=o.toDataURL("image/png");if(b!=null){return b(m,o)}})};if(b!=null){e.onerror=b}return e.src=h.dataURL}},{key:"processQueue",value:function am(){var c=this.options.parallelUploads;var b=this.getUploadingFiles().length;var a=b;if(b>=c){return}var d=this.getQueuedFiles();if(!(d.length>0)){return}if(this.options.uploadMultiple){return this.processFiles(d.slice(0,c-b))}else{while(a<c){if(!d.length){return}this.processFile(d.shift());a++}}}},{key:"processFile",value:function bd(a){return this.processFiles([a])}},{key:"processFiles",value:function a7(e){for(var d=e,a=true,f=0,d=a?d:d[Symbol.iterator]();;){var c;if(a){if(f>=d.length){break}c=d[f++]}else{f=d.next();if(f.done){break}c=f.value}var b=c;b.processing=true;b.status=aJ.UPLOADING;this.emit("processing",b)}if(this.options.uploadMultiple){this.emit("processingmultiple",e)}return this.uploadFiles(e)}},{key:"_getFilesWithXhr",value:function aW(a){var b=void 0;return b=this.files.filter(function(c){return c.xhr===a}).map(function(c){return c})}},{key:"cancelUpload",value:function aO(j){if(j.status===aJ.UPLOADING){var a=this._getFilesWithXhr(j.xhr);for(var k=a,c=true,h=0,k=c?k:k[Symbol.iterator]();;){var e;if(c){if(h>=k.length){break}e=k[h++]}else{h=k.next();if(h.done){break}e=h.value}var g=e;g.status=aJ.CANCELED}if(typeof j.xhr!=="undefined"){j.xhr.abort()}for(var l=a,f=true,i=0,l=f?l:l[Symbol.iterator]();;){var d;if(f){if(i>=l.length){break}d=l[i++]}else{i=l.next();if(i.done){break}d=i.value}var b=d;this.emit("canceled",b)}if(this.options.uploadMultiple){this.emit("canceledmultiple",a)}}else{if(j.status===aJ.ADDED||j.status===aJ.QUEUED){j.status=aJ.CANCELED;this.emit("canceled",j);if(this.options.uploadMultiple){this.emit("canceledmultiple",[j])}}}if(this.options.autoProcessQueue){return this.processQueue()}}},{key:"resolveOption",value:function aZ(d){if(typeof d==="function"){for(var c=arguments.length,a=Array(c>1?c-1:0),b=1;b<c;b++){a[b-1]=arguments[b]}return d.apply(this,a)}return d}},{key:"uploadFile",value:function aw(a){return this.uploadFiles([a])}},{key:"uploadFiles",value:function a4(a){var b=this;this._transformFiles(a,function(f){if(a[0].upload.chunked){var g=a[0];var d=f[0];var c=0;g.upload.chunks=[];var e=function e(){var k=0;while(g.upload.chunks[k]!==undefined){k++}if(k>=g.upload.totalChunkCount){return}c++;var m=k*b.options.chunkSize;var l=Math.min(m+b.options.chunkSize,g.size);var n={name:b._getParamName(0),data:d.webkitSlice?d.webkitSlice(m,l):d.slice(m,l),filename:g.upload.filename,chunkIndex:k};g.upload.chunks[k]={file:g,index:k,dataBlock:n,status:aJ.UPLOADING,progress:0,retries:0};b._uploadData(a,[n])};g.upload.finishedChunkUpload=function(l){var m=true;l.status=aJ.SUCCESS;l.dataBlock=null;for(var k=0;k<g.upload.totalChunkCount;k++){if(g.upload.chunks[k]===undefined){return e()}if(g.upload.chunks[k].status!==aJ.SUCCESS){m=false}}if(m){b.options.chunksUploaded(g,function(){b._finished(a,"",null)})}};if(b.options.parallelChunkUploads){for(var h=0;h<g.upload.totalChunkCount;h++){e()}}else{e()}}else{var j=[];for(var i=0;i<a.length;i++){j[i]={name:b._getParamName(i),data:f[i],filename:a[i].upload.filename}}b._uploadData(a,j)}})}},{key:"_getChunk",value:function aP(a,c){for(var b=0;b<a.upload.totalChunkCount;b++){if(a.upload.chunks[b]!==undefined&&a.upload.chunks[b].xhr===c){return a.upload.chunks[b]}}}},{key:"_uploadData",value:function at(p,y){var q=this;var g=new XMLHttpRequest();for(var s=p,h=true,u=0,s=h?s:s[Symbol.iterator]();;){var e;if(h){if(u>=s.length){break}e=s[u++]}else{u=s.next();if(u.done){break}e=u.value}var f=e;f.xhr=g}if(p[0].upload.chunked){p[0].upload.chunks[y[0].chunkIndex].xhr=g}var t=this.resolveOption(this.options.method,p);var r=this.resolveOption(this.options.url,p);g.open(t,r,true);g.timeout=this.resolveOption(this.options.timeout,p);g.withCredentials=!!this.options.withCredentials;g.onload=function(A){q._finishedUploading(p,g,A)};g.onerror=function(){q._handleUploadError(p,g)};var n=g.upload!=null?g.upload:g;n.onprogress=function(A){return q._updateFilesUploadProgress(p,g,A)};var x={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};if(this.options.headers){aJ.extend(x,this.options.headers)}for(var a in x){var i=x[a];if(i){g.setRequestHeader(a,i)}}var m=new FormData();if(this.options.params){var c=this.options.params;if(typeof c==="function"){c=c.call(this,p,g,p[0].upload.chunked?this._getChunk(p[0],g):null)}for(var d in c){var o=c[d];m.append(d,o)}}for(var v=p,k=true,w=0,v=k?v:v[Symbol.iterator]();;){var j;if(k){if(w>=v.length){break}j=v[w++]}else{w=v.next();if(w.done){break}j=w.value}var b=j;this.emit("sending",b,g,m)}if(this.options.uploadMultiple){this.emit("sendingmultiple",p,g,m)}this._addFormElementData(m);for(var l=0;l<y.length;l++){var z=y[l];m.append(z.name,z.data,z.filename)}this.submitRequest(g,m,p)}},{key:"_transformFiles",value:function aq(e,a){var g=this;var d=[];var b=0;var c=function c(h){g.options.transformFile.call(g,e[h],function(i){d[h]=i;if(++b===e.length){a(d)}})};for(var f=0;f<e.length;f++){c(f)}}},{key:"_addFormElementData",value:function aj(k){if(this.element.tagName==="FORM"){for(var a=this.element.querySelectorAll("input, textarea, select, button"),g=true,j=0,a=g?a:a[Symbol.iterator]();;){var e;if(g){if(j>=a.length){break}e=a[j++]}else{j=a.next();if(j.done){break}e=j.value}var c=e;var d=c.getAttribute("name");var m=c.getAttribute("type");if(m){m=m.toLowerCase()}if(typeof d==="undefined"||d===null){continue}if(c.tagName==="SELECT"&&c.hasAttribute("multiple")){for(var b=c.options,i=true,l=0,b=i?b:b[Symbol.iterator]();;){var h;if(i){if(l>=b.length){break}h=b[l++]}else{l=b.next();if(l.done){break}h=l.value}var f=h;if(f.selected){k.append(d,f.value)}}}else{if(!m||m!=="checkbox"&&m!=="radio"||c.checked){k.append(d,c.value)}}}}}},{key:"_updateFilesUploadProgress",value:function ba(l,e,c){var h=void 0;if(typeof c!=="undefined"){h=100*c.loaded/c.total;if(l[0].upload.chunked){var b=l[0];var d=this._getChunk(b,e);d.progress=h;d.total=c.total;d.bytesSent=c.loaded;var f=0,r=void 0,a=void 0;b.upload.progress=0;b.upload.total=0;b.upload.bytesSent=0;for(var i=0;i<b.upload.totalChunkCount;i++){if(b.upload.chunks[i]!==undefined&&b.upload.chunks[i].progress!==undefined){b.upload.progress+=b.upload.chunks[i].progress;b.upload.total+=b.upload.chunks[i].total;b.upload.bytesSent+=b.upload.chunks[i].bytesSent}}b.upload.progress=b.upload.progress/b.upload.totalChunkCount}else{for(var z=l,k=true,A=0,z=k?z:z[Symbol.iterator]();;){var j;if(k){if(A>=z.length){break}j=z[A++]}else{A=z.next();if(A.done){break}j=A.value}var s=j;s.upload.progress=h;s.upload.total=c.total;s.upload.bytesSent=c.loaded}}for(var B=l,n=true,C=0,B=n?B:B[Symbol.iterator]();;){var m;if(n){if(C>=B.length){break}m=B[C++]}else{C=B.next();if(C.done){break}m=C.value}var w=m;this.emit("uploadprogress",w,w.upload.progress,w.upload.bytesSent)}}else{var g=true;h=100;for(var D=l,p=true,u=0,D=p?D:D[Symbol.iterator]();;){var o;if(p){if(u>=D.length){break}o=D[u++]}else{u=D.next();if(u.done){break}o=u.value}var x=o;if(x.upload.progress!==100||x.upload.bytesSent!==x.upload.total){g=false}x.upload.progress=h;x.upload.bytesSent=x.upload.total}if(g){return}for(var E=l,q=true,v=0,E=q?E:E[Symbol.iterator]();;){var t;if(q){if(v>=E.length){break}t=E[v++]}else{v=E.next();if(v.done){break}t=v.value}var y=t;this.emit("uploadprogress",y,h,y.upload.bytesSent)}}}},{key:"_finishedUploading",value:function a2(e,c,d){var b=void 0;if(e[0].status===aJ.CANCELED){return}if(c.readyState!==4){return}if(c.responseType!=="arraybuffer"&&c.responseType!=="blob"){b=c.responseText;if(c.getResponseHeader("content-type")&&~c.getResponseHeader("content-type").indexOf("application/json")){try{b=JSON.parse(b)}catch(a){d=a;b="Invalid JSON response from server."}}}this._updateFilesUploadProgress(e);if(!(200<=c.status&&c.status<300)){this._handleUploadError(e,c,b)}else{if(e[0].upload.chunked){e[0].upload.finishedChunkUpload(this._getChunk(e[0],c))}else{this._finished(e,b,d)}}}},{key:"_handleUploadError",value:function aT(i,a,d){if(i[0].status===aJ.CANCELED){return}if(i[0].upload.chunked&&this.options.retryChunks){var b=this._getChunk(i[0],a);if(b.retries++<this.options.retryChunksLimit){this._uploadData(i,[b.dataBlock]);return}else{console.warn("Retried this chunk too often. Giving up.")}}for(var c=i,e=true,h=0,c=e?c:c[Symbol.iterator]();;){var g;if(e){if(h>=c.length){break}g=c[h++]}else{h=c.next();if(h.done){break}g=h.value}var f=g;this._errorProcessing(i,d||this.options.dictResponseError.replace("{{statusCode}}",a.status),a)}}},{key:"submitRequest",value:function ai(c,a,b){c.send(a)}},{key:"_finished",value:function aK(g,f,d){for(var e=g,h=true,a=0,e=h?e:e[Symbol.iterator]();;){var c;if(h){if(a>=e.length){break}c=e[a++]}else{a=e.next();if(a.done){break}c=a.value}var b=c;b.status=aJ.SUCCESS;this.emit("success",b,f,d);this.emit("complete",b)}if(this.options.uploadMultiple){this.emit("successmultiple",g,f,d);this.emit("completemultiple",g)}if(this.options.autoProcessQueue){return this.processQueue()}}},{key:"_errorProcessing",value:function aA(f,g,c){for(var e=f,h=true,a=0,e=h?e:e[Symbol.iterator]();;){var d;if(h){if(a>=e.length){break}d=e[a++]}else{a=e.next();if(a.done){break}d=a.value}var b=d;b.status=aJ.ERROR;this.emit("error",b,g,c);this.emit("complete",b)}if(this.options.uploadMultiple){this.emit("errormultiple",f,g,c);this.emit("completemultiple",f)}if(this.options.autoProcessQueue){return this.processQueue()}}}],[{key:"uuidv4",value:function ak(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var a=Math.random()*16|0,b=c==="x"?a:a&3|8;return b.toString(16)})}}]);return aJ}(Emitter);Dropzone.initClass();Dropzone.version="5.4.0";Dropzone.options={};Dropzone.optionsForElement=function(b){if(b.getAttribute("id")){return Dropzone.options[camelize(b.getAttribute("id"))]}else{return undefined}};Dropzone.instances=[];Dropzone.forElement=function(b){if(typeof b==="string"){b=document.querySelector(b)}if((b!=null?b.dropzone:undefined)==null){throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.")}return b.dropzone};Dropzone.autoDiscover=true;Dropzone.discover=function(){var d=void 0;if(document.querySelectorAll){d=document.querySelectorAll(".dropzone")}else{d=[];var c=function c(a){return function(){var n=[];for(var j=a,l=true,m=0,j=l?j:j[Symbol.iterator]();;){var b;if(l){if(m>=j.length){break}b=j[m++]}else{m=j.next();if(m.done){break}b=m.value}var k=b;if(/(^| )dropzone($| )/.test(k.className)){n.push(d.push(k))}else{n.push(undefined)}}return n}()};c(document.getElementsByTagName("div"));c(document.getElementsByTagName("form"))}return function(){var l=[];for(var b=d,i=true,j=0,b=i?b:b[Symbol.iterator]();;){var a;if(i){if(j>=b.length){break}a=b[j++]}else{j=b.next();if(j.done){break}a=j.value}var k=a;if(Dropzone.optionsForElement(k)!==false){l.push(new Dropzone(k))}else{l.push(undefined)}}return l}()};Dropzone.blacklistedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i];Dropzone.isBrowserSupported=function(){var k=true;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector){if(!("classList" in document.createElement("a"))){k=false}else{for(var l=Dropzone.blacklistedBrowsers,g=true,h=0,l=g?l:l[Symbol.iterator]();;){var i;if(g){if(h>=l.length){break}i=l[h++]}else{h=l.next();if(h.done){break}i=h.value}var j=i;if(j.test(navigator.userAgent)){k=false;continue}}}}else{k=false}return k};Dropzone.dataURItoBlob=function(p){var k=atob(p.split(",")[1]);var j=p.split(",")[0].split(":")[1].split(";")[0];var l=new ArrayBuffer(k.length);var o=new Uint8Array(l);for(var n=0,i=k.length,m=0<=i;m?n<=i:n>=i;m?n++:n--){o[n]=k.charCodeAt(n)}return new Blob([l],{type:j})};var without=function without(c,d){return c.filter(function(a){return a!==d}).map(function(a){return a})};var camelize=function camelize(b){return b.replace(/[\-_](\w)/g,function(a){return a.charAt(1).toUpperCase()})};Dropzone.createElement=function(d){var c=document.createElement("div");c.innerHTML=d;return c.childNodes[0]};Dropzone.elementInside=function(c,d){if(c===d){return true}while(c=c.parentNode){if(c===d){return true}}return false};Dropzone.getElement=function(f,e){var d=void 0;if(typeof f==="string"){d=document.querySelector(f)}else{if(f.nodeType!=null){d=f}}if(d==null){throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector or a plain HTML element.")}return d};Dropzone.getElements=function(s,u){var t=void 0,v=void 0;if(s instanceof Array){v=[];try{for(var q=s,e=true,n=0,q=e?q:q[Symbol.iterator]();;){if(e){if(n>=q.length){break}t=q[n++]}else{n=q.next();if(n.done){break}t=n.value}v.push(this.getElement(t,u))}}catch(p){v=null}}else{if(typeof s==="string"){v=[];for(var r=document.querySelectorAll(s),m=true,o=0,r=m?r:r[Symbol.iterator]();;){if(m){if(o>=r.length){break}t=r[o++]}else{o=r.next();if(o.done){break}t=o.value}v.push(t)}}else{if(s.nodeType!=null){v=[s]}}}if(v==null||!v.length){throw new Error("Invalid `"+u+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.")}return v};Dropzone.confirm=function(e,f,d){if(window.confirm(e)){return f()}else{if(d!=null){return d()}}};Dropzone.isValidFile=function(n,q){if(!q){return true}q=q.split(",");var p=n.type;var o=p.replace(/\/.*$/,"");for(var m=q,j=true,k=0,m=j?m:m[Symbol.iterator]();;){var r;if(j){if(k>=m.length){break}r=m[k++]}else{k=m.next();if(k.done){break}r=k.value}var l=r;l=l.trim();if(l.charAt(0)==="."){if(n.name.toLowerCase().indexOf(l.toLowerCase(),n.name.length-l.length)!==-1){return true}}else{if(/\/\*$/.test(l)){if(o===l.replace(/\/.*$/,"")){return true}}else{if(p===l){return true}}}}return false};if(typeof jQuery!=="undefined"&&jQuery!==null){jQuery.fn.dropzone=function(b){return this.each(function(){return new Dropzone(this,b)})}}if(typeof module!=="undefined"&&module!==null){module.exports=Dropzone}else{window.Dropzone=Dropzone}Dropzone.ADDED="added";Dropzone.QUEUED="queued";Dropzone.ACCEPTED=Dropzone.QUEUED;Dropzone.UPLOADING="uploading";Dropzone.PROCESSING=Dropzone.UPLOADING;Dropzone.CANCELED="canceled";Dropzone.ERROR="error";Dropzone.SUCCESS="success";var detectVerticalSquash=function detectVerticalSquash(t){var w=t.naturalWidth;var n=t.naturalHeight;var x=document.createElement("canvas");x.width=1;x.height=n;var m=x.getContext("2d");m.drawImage(t,0,0);var o=m.getImageData(1,0,1,n),u=o.data;var q=0;var s=n;var p=n;while(p>q){var v=u[(p-1)*4+3];if(v===0){s=p}else{q=p}p=s+q>>1}var r=p/n;if(r===0){return 1}else{return r}};var drawImageIOSFix=function drawImageIOSFix(n,u,p,q,o,t,l,m,v,r){var s=detectVerticalSquash(u);return n.drawImage(u,p,q,o,t,l,m,v,r/s)};var ExifRestore=function(){function m(){_classCallCheck(this,m)}_createClass(m,null,[{key:"initClass",value:function q(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode64",value:function j(g){var i="";var t=undefined;var b=undefined;var d="";var a=undefined;var c=undefined;var e=undefined;var f="";var h=0;while(true){t=g[h++];b=g[h++];d=g[h++];a=t>>2;c=(t&3)<<4|b>>4;e=(b&15)<<2|d>>6;f=d&63;if(isNaN(b)){e=f=64}else{if(isNaN(d)){f=64}}i=i+this.KEY_STR.charAt(a)+this.KEY_STR.charAt(c)+this.KEY_STR.charAt(e)+this.KEY_STR.charAt(f);t=b=d="";a=c=e=f="";if(!(h<g.length)){break}}return i}},{key:"restore",value:function l(d,e){if(!d.match("data:image/jpeg;base64,")){return e}var a=this.decode64(d.replace("data:image/jpeg;base64,",""));var c=this.slice2Segments(a);var b=this.exifManipulation(e,c);return"data:image/jpeg;base64,"+this.encode64(b)}},{key:"exifManipulation",value:function p(e,b){var d=this.getExifArray(b);var c=this.insertExif(e,d);var a=new Uint8Array(c);return a}},{key:"getExifArray",value:function n(a){var b=undefined;var c=0;while(c<a.length){b=a[c];if(b[0]===255&b[1]===225){return b}c++}return[]}},{key:"insertExif",value:function k(e,d){var f=e.replace("data:image/jpeg;base64,","");var b=this.decode64(f);var c=b.indexOf(255,3);var h=b.slice(0,c);var a=b.slice(c);var g=h;g=g.concat(d);g=g.concat(a);return g}},{key:"slice2Segments",value:function r(c){var f=0;var b=[];while(true){var e;if(c[f]===255&c[f+1]===218){break}if(c[f]===255&c[f+1]===216){f+=2}else{e=c[f+2]*256+c[f+3];var a=f+e+2;var d=c.slice(f,a);b.push(d);f=a}if(f>c.length){break}}return b}},{key:"decode64",value:function o(e){var g="";var v=undefined;var x=undefined;var b="";var w=undefined;var a=undefined;var c=undefined;var d="";var f=0;var h=[];var i=/[^A-Za-z0-9\+\/\=]/g;if(i.exec(e)){console.warn("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding.")}e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(true){w=this.KEY_STR.indexOf(e.charAt(f++));a=this.KEY_STR.indexOf(e.charAt(f++));c=this.KEY_STR.indexOf(e.charAt(f++));d=this.KEY_STR.indexOf(e.charAt(f++));v=w<<2|a>>4;x=(a&15)<<4|c>>2;b=(c&3)<<6|d;h.push(v);if(c!==64){h.push(x)}if(d!==64){h.push(b)}v=x=b="";w=a=c=d="";if(!(f<e.length)){break}}return h}}]);return m}();ExifRestore.initClass();var contentLoaded=function contentLoaded(v,r){var w=false;var s=true;var p=v.document;var q=p.documentElement;var m=p.addEventListener?"addEventListener":"attachEvent";var o=p.addEventListener?"removeEventListener":"detachEvent";var x=p.addEventListener?"":"on";var n=function n(a){if(a.type==="readystatechange"&&p.readyState!=="complete"){return}(a.type==="load"?v:p)[o](x+a.type,n,false);if(!w&&(w=true)){return r.call(v,a.type||a)}};var u=function u(){try{q.doScroll("left")}catch(a){setTimeout(u,50);return}return n("poll")};if(p.readyState!=="complete"){if(p.createEventObject&&q.doScroll){try{s=!v.frameElement}catch(t){}if(s){u()}}p[m](x+"DOMContentLoaded",n,false);p[m](x+"readystatechange",n,false);return v[m](x+"load",n,false)}};Dropzone._autoDiscoverFunction=function(){if(Dropzone.autoDiscover){return Dropzone.discover()}};contentLoaded(window,Dropzone._autoDiscoverFunction);function __guard__(c,d){return typeof c!=="undefined"&&c!==null?d(c):undefined}function __guardMethod__(f,e,d){if(typeof f!=="undefined"&&f!==null&&typeof f[e]==="function"){return d(f,e)}else{return undefined}};