jQuery(document).ready(function(b){(function(){var d=b("#IDInputFile");var a=function(c){this.file=c};a.prototype.getType=function(){return this.file.type};a.prototype.getSize=function(){return this.file.size};a.prototype.getName=function(){return this.file.name};a.prototype.doUpload=function(){var f=this;var c=new FormData();c.append("file",this.file);c.append("upload_file",true);c.append("accept",d.attr("accept"));b.ajax({type:"POST",url:localizedObject.ajaxUrl+"?action=wordpress_ajax_action",xhr:function(){var e=b.ajaxSettings.xhr();if(e.upload){e.upload.addEventListener("progress",f.progressHandling,false)}return e},success:function(e){console.log(e)},error:function(e){console.log(e)},async:true,data:c,cache:false,contentType:false,processData:false,timeout:60000})};a.prototype.progressHandling=function(c){var h=0;var j=c.loaded||c.position;var i=c.total;if(c.lengthComputable){h=Math.ceil(j/i*100)}console.log(h)};d.on("change",function(){if(this.files&&this.files.length){var c=this.files,j=0,i=c.length;for(j;j<i;j++){var k=c[j];var l=new a(k);l.doUpload()}}})})()});